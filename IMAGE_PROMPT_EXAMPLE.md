# Complete Image Generation Prompt Example

This document shows a full example of what gets sent to the image generation API, combining:
1. The `imagePrompt` generated by the LLM (based on slide content)
2. The `STYLE_GUIDELINES` appended automatically

---

## Example Scenario

**Slide Content:**
- **Title:** "The Water Cycle"
- **Content:** 
  - "Water evaporates from oceans and lakes"
  - "Water vapor forms clouds in the atmosphere"
  - "Precipitation returns water to Earth"
  - "Water flows back to oceans through rivers"
- **Grade Level:** 5th Grade
- **Subject:** Science

---

## Step 1: What the LLM Generates (imagePrompt)

Based on the content generation prompt instructions, the LLM might generate:

```
Water molecules are evaporating from a blue ocean surface, rising as visible water vapor that transforms into fluffy white cumulus clouds in the sky above. Raindrops are falling from grey clouds back down to green forested mountains below, with streams and rivers flowing through valleys back toward the ocean. The scene shows the complete cycle with arrows indicating the flow of water: from ocean to sky (evaporation), clouds forming (condensation), and rain returning (precipitation). Labels identify key stages: "Evaporation" above the ocean, "Condensation" near the clouds, and "Precipitation" near the falling rain.
```

**OR** (a different LLM interpretation following Subject → Action → Setting structure):

```
Subject: A blue ocean with visible water molecules rising from its surface as steam. Action: Water vapor ascending into the atmosphere where it condenses into white puffy clouds. Setting: A sky filled with clouds that release raindrops falling down to green mountain peaks below, with rivers flowing through valleys back to the ocean. The illustration includes arrows showing the cyclical movement: evaporation from water bodies, cloud formation in the atmosphere, and precipitation returning water to land. Labels mark each phase: "Evaporation" next to the rising steam, "Condensation" above the clouds, and "Precipitation" beside the falling rain.
```

---

## Step 2: Complete Prompt Sent to Image Generation API

The system automatically adds an "IMAGE CONTENT:" header and appends `STYLE_GUIDELINES` to create the final prompt:

```
IMAGE CONTENT:
Water molecules are evaporating from a blue ocean surface, rising as visible water vapor that transforms into fluffy white cumulus clouds in the sky above. Raindrops are falling from grey clouds back down to green forested mountains below, with streams and rivers flowing through valleys back toward the ocean. The scene shows the complete cycle with arrows indicating the flow of water: from ocean to sky (evaporation), clouds forming (condensation), and rain returning (precipitation). Labels identify key stages: "Evaporation" above the ocean, "Condensation" near the clouds, and "Precipitation" near the falling rain.

VISUAL STYLE (Classroom Educational Standard):
- Goal: Create a pedagogical visual aid for presentation slides. Prioritize clarity, simplicity, and readability.
- Composition: Front view, sharp focus throughout. No blur or depth effects.
- Lighting: Neutral, uniform technical lighting. No shadows.
- Style: Clean, flat vector illustration. Professional, simple lines.
- Background: Pure-white invisible background. No texture.
- Colors: Minimalist palette of 3–5 solid, high-contrast colors. No gradients.

TEXT AND LABELING:
- Typography: Large, bold, sans-serif fonts (Arial-style).
- Readability: High contrast against background. Maximize legibility.
- Placement: Clearly connected to elements with straight leader lines.
```

---

## Another Example: Cell Biology

**Generated imagePrompt:**
```
A cross-section view of a plant cell showing the large central vacuole filled with blue-tinted water, a prominent nucleus with a dark nucleolus at the center, numerous green chloroplasts arranged around the cell perimeter, mitochondria scattered throughout the cytoplasm appearing as oval structures, and the rigid cell wall forming the outer boundary. Labels point to each structure: "Nucleus" with an arrow to the central structure, "Chloroplasts" pointing to the green oval organelles, "Mitochondria" identifying the energy-producing organelles, "Vacuole" marking the large central storage area, and "Cell Wall" indicating the outer protective layer.
```

**Complete Final Prompt:**
```
IMAGE CONTENT:
A cross-section view of a plant cell showing the large central vacuole filled with blue-tinted water, a prominent nucleus with a dark nucleolus at the center, numerous green chloroplasts arranged around the cell perimeter, mitochondria scattered throughout the cytoplasm appearing as oval structures, and the rigid cell wall forming the outer boundary. Labels point to each structure: "Nucleus" with an arrow to the central structure, "Chloroplasts" pointing to the green oval organelles, "Mitochondria" identifying the energy-producing organelles, "Vacuole" marking the large central storage area, and "Cell Wall" indicating the outer protective layer.

VISUAL STYLE (Classroom Educational Standard):
- Goal: Create a pedagogical visual aid for presentation slides. Prioritize clarity, simplicity, and readability.
- Composition: Front view, sharp focus throughout. No blur or depth effects.
- Lighting: Neutral, uniform technical lighting. No shadows.
- Style: Clean, flat vector illustration. Professional, simple lines.
- Background: Pure-white invisible background. No texture.
- Colors: Minimalist palette of 3–5 solid, high-contrast colors. No gradients.

TEXT AND LABELING:
- Typography: Large, bold, sans-serif fonts (Arial-style).
- Readability: High contrast against background. Maximize legibility.
- Placement: Clearly connected to elements with straight leader lines.
```

---

## Example: History Topic

**Generated imagePrompt:**
```
A group of colonial-era figures in period clothing gathered around a wooden desk, with one central figure holding a quill pen poised above a parchment document. Several other figures stand around the desk, some pointing to the document while others appear to be in discussion. The setting is a formal 18th-century meeting room with tall windows allowing natural light to stream in, period-appropriate furniture including wooden chairs and a bookshelf in the background. Labels identify key elements: "Declaration of Independence" above the document, "Thomas Jefferson" pointing to the figure with the quill, and "1776" visible on a calendar or document in the background.
```

**Complete Final Prompt:**
```
IMAGE CONTENT:
A group of colonial-era figures in period clothing gathered around a wooden desk, with one central figure holding a quill pen poised above a parchment document. Several other figures stand around the desk, some pointing to the document while others appear to be in discussion. The setting is a formal 18th-century meeting room with tall windows allowing natural light to stream in, period-appropriate furniture including wooden chairs and a bookshelf in the background. Labels identify key elements: "Declaration of Independence" above the document, "Thomas Jefferson" pointing to the figure with the quill, and "1776" visible on a calendar or document in the background.

VISUAL STYLE (Classroom Educational Standard):
- Goal: Create a pedagogical visual aid for presentation slides. Prioritize clarity, simplicity, and readability.
- Composition: Front view, sharp focus throughout. No blur or depth effects.
- Lighting: Neutral, uniform technical lighting. No shadows.
- Style: Clean, flat vector illustration. Professional, simple lines.
- Background: Pure-white invisible background. No texture.
- Colors: Minimalist palette of 3–5 solid, high-contrast colors. No gradients.

TEXT AND LABELING:
- Typography: Large, bold, sans-serif fonts (Arial-style).
- Readability: High contrast against background. Maximize legibility.
- Placement: Clearly connected to elements with straight leader lines.
```

---

## Structure Breakdown

```
IMAGE CONTENT:
  ↓
[User-Generated imagePrompt - includes Subject, Action, Setting]
  ↓
  (Empty line)
  ↓
[STYLE_GUIDELINES]
  ├─ VISUAL STYLE (Classroom Educational Standard) section
  │   ├─ Goal
  │   ├─ Composition
  │   ├─ Lighting
  │   ├─ Style
  │   ├─ Background
  │   └─ Colors
  └─ TEXT AND LABELING section
      ├─ Typography
      ├─ Readability
      └─ Placement
```

---

## Key Points

1. **Content First**: The LLM-generated description comes first (what to show)
2. **Style Second**: Style guidelines are appended (how it should look)
3. **Purpose Merged**: The purpose/context is integrated into VISUAL STYLE as context for decision-making
4. **Text Instructions**: Simplified to focus on what models can reliably follow (typography, contrast, placement)
5. **Total Length**: The complete prompt is typically 150-300 words depending on the complexity of the imagePrompt

---

## What Happens in Code

```typescript
// In imageGeneration.ts
const finalPrompt = `IMAGE CONTENT:
${imagePrompt}

${STYLE_GUIDELINES}`;

// This creates:
// IMAGE CONTENT:
// imagePrompt content (Subject, Action, Setting)
// (blank line)
// VISUAL STYLE (Classroom Educational Standard):
//   - Goal: ...
//   - Composition: ...
//   - Lighting: ...
//   - Style: ...
//   - Background: ...
//   - Colors: ...
// TEXT AND LABELING:
//   - Typography: ...
//   - Readability: ...
//   - Placement: ...
```

The API receives this complete string as the prompt for generating the image.
